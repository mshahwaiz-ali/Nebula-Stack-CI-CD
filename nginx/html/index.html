<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NebulaStack – Project Overview</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg-main: #050015;
      --bg-card: rgba(10, 5, 30, 0.9);
      --accent: #ffcd88;
      --accent-2: #80ffdb;
      --border-soft: rgba(255,255,255,0.18);
      --text-main: #f6eefe;
    }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      font-size: 17px;
      color: var(--text-main);
      display: flex;
      justify-content: center;
      background:
        radial-gradient(circle at 10% 20%, rgba(255,255,255,0.10) 1px, transparent 3px) 0 0/140px 140px,
        radial-gradient(circle at 80% 70%, rgba(255,50,120,0.2) 2px, transparent 4px) 0 0/180px 180px,
        linear-gradient(135deg, #050015 0%, #17052f 45%, #4c1588 100%);
    }

    .page {
      width: 100%;
      max-width: 1200px;
      padding: 3.5rem 2rem 4rem;
      margin: 0 auto;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .title {
      font-size: 3rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      font-weight: 800;
      text-shadow: 0 10px 30px rgba(0,0,0,0.9);
      margin-bottom: 0.5rem;
    }

    .subtitle {
      font-size: 1rem;
      opacity: 0.9;
      max-width: 620px;
      margin: 0.25rem auto 0;
      line-height: 1.6;
    }

    .tag-row {
      margin-top: 1.1rem;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem;
    }

    .tag {
      padding: 0.35rem 0.9rem;
      border-radius: 999px;
      background: rgba(255,255,255,0.13);
      font-size: 0.78rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      white-space: nowrap;
    }

    /* Main hero card */
    .hero-wrapper {
      display: flex;
      justify-content: center;
      margin-bottom: 3rem;
    }

    .hero-card {
      width: 100%;
      max-width: 1260px;
      padding: 2.2rem 2.4rem;
      border-radius: 26px;
      background:
        radial-gradient(circle at top left, rgba(255,255,255,0.11), transparent 55%),
        var(--bg-card);
      border: 1px solid var(--border-soft);
      box-shadow: 0 26px 70px rgba(0,0,0,0.9);
      display: grid;
      grid-template-columns: minmax(0, 3.2fr) minmax(0, 2.3fr);
      gap: 2.2rem;
    }

    @media (max-width: 900px) {
      .page { padding: 2.5rem 1.5rem 3rem; }
      .hero-card { grid-template-columns: 1fr; padding: 1.8rem 1.7rem; }
    }

    .hero-left-title {
      font-size: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      opacity: 0.85;
      margin-bottom: 0.7rem;
    }

    .hero-main-text {
      font-size: 1rem;
      line-height: 1.7;
      opacity: 0.96;
      margin-bottom: 1.1rem;
    }

    .hero-highlight {
      font-weight: 600;
      color: var(--accent);
    }

    .stack-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.55rem;
    }

    .stack-pill {
      padding: 0.35rem 0.9rem;
      border-radius: 999px;
      font-size: 0.8rem;
      background: rgba(90,24,154,0.95);
      border: 1px solid var(--border-soft);
      white-space: nowrap;
    }

    .hero-right-title {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      margin-bottom: 0.8rem;
      opacity: 0.8;
    }

    .hero-checklist {
      list-style: none;
      font-size: 0.9rem;
      line-height: 1.6;
      opacity: 0.96;
    }

    .hero-checklist li {
      margin-bottom: 0.4rem;
      display: flex;
      gap: 0.35rem;
      align-items: flex-start;
    }

    .hero-checklist span.bullet {
      font-size: 0.9rem;
      margin-top: 0.1rem;
      color: var(--accent-2);
    }

    .endpoint {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.85rem;
      background: rgba(255,255,255,0.07);
      padding: 0.18rem 0.55rem;
      border-radius: 999px;
    }

    .em {
      color: var(--accent);
      font-weight: 500;
    }

    /* Section heading */
    .section-heading {
      margin: 0 0 1.4rem;
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.22em;
      opacity: 0.78;
    }

    /* Cards grid */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
      gap: 2rem;
    }

    .card {
      padding: 1.8rem 1.9rem;
      border-radius: 22px;
      background: var(--bg-card);
      border: 1px solid var(--border-soft);
      box-shadow: 0 20px 60px rgba(0,0,0,0.85);
    }

    .card-badge {
      display: inline-block;
      padding: 0.2rem 0.7rem;
      border-radius: 999px;
      background: rgba(90, 24, 154, 0.9);
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      margin-bottom: 0.7rem;
      opacity: 0.95;
    }

    .card-title {
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 0.6rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .card-text {
      font-size: 0.95rem;
      line-height: 1.7;
      opacity: 0.96;
      margin-bottom: 0.9rem;
    }

    .card-list {
      font-size: 0.9rem;
      list-style: none;
      line-height: 1.6;
    }

    .card-list li {
      margin-bottom: 0.35rem;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-top: 0.3rem;
    }

    .mini-pill {
      font-size: 0.8rem;
      padding: 0.2rem 0.6rem;
      border-radius: 999px;
      background: rgba(255,255,255,0.07);
    }
  </style>
</head>
<body>
  <div class="page">
    <header class="header">
      <h1 class="title">NebulaStack</h1>
      <p class="subtitle">
        A compact, production-style stack: Nginx web frontend, Flask API, PostgreSQL database, Docker Compose orchestration,
        GitHub Actions CI/CD, and an AWS EC2 deployment &mdash; all in one place.
      </p>
      <div class="tag-row">
        <span class="tag">Dockerized Stack</span>
        <span class="tag">Reverse Proxy</span>
        <span class="tag">REST API</span>
        <span class="tag">Postgres</span>
        <span class="tag">CI/CD to EC2</span>
      </div>
    </header>

    <!-- Main center card -->
    <section class="hero-wrapper">
      <div class="hero-card">
        <div>
          <div class="hero-left-title">Project Snapshot</div>
          <p class="hero-main-text">
            <span class="hero-highlight">NebulaStack</span> is a small but realistic environment: Nginx serves the static site,
            a Flask API runs in the background, PostgreSQL stores messages, and all containers are started with a single
            Docker Compose command. GitHub Actions deploys the latest version to EC2 on every push to the main branch.
          </p>
          <div class="stack-row">
            <span class="stack-pill">Nginx Web</span>
            <span class="stack-pill">Flask API</span>
            <span class="stack-pill">PostgreSQL 16</span>
            <span class="stack-pill">Docker Compose</span>
            <span class="stack-pill">GitHub Actions</span>
            <span class="stack-pill">AWS EC2 + SSH</span>
          </div>
        </div>
        <div>
          <div class="hero-right-title">Quick Overview</div>
          <ul class="hero-checklist">
            <li>
              <span class="bullet">●</span>
              <span>Start the full stack with <span class="endpoint">docker compose up -d --build</span>.</span>
            </li>
            <li>
              <span class="bullet">●</span>
              <span>Public entry point: <span class="endpoint">http://EC2_IP:8080</span>.</span>
            </li>
            <li>
              <span class="bullet">●</span>
              <span>API health: <span class="endpoint">/api/health</span>, database check: <span class="endpoint">/api/db-test</span>.</span>
            </li>
            <li>
              <span class="bullet">●</span>
              <span>Messages API at <span class="endpoint">/api/messages</span> (list, create, delete).</span>
            </li>
            <li>
              <span class="bullet">●</span>
              <span>CI/CD pipeline: push to <span class="em">main</span> triggers build, tests, and deployment to EC2.</span>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Detail cards -->
    <section>
      <h2 class="section-heading">Project Breakdown &mdash; Components and Steps</h2>
      <div class="grid">

        <!-- Web / Nginx -->
        <article class="card">
          <div class="card-badge">Step 01 &mdash; Frontend</div>
          <h3 class="card-title">Nginx Web Container</h3>
          <p class="card-text">
            Serves the static HTML/CSS overview page and exposes port <span class="endpoint">8080</span>.
            This container is the main public entry point to NebulaStack.
          </p>
          <ul class="card-list">
            <li>Base image <span class="em">nginx:alpine</span> with custom configuration and bundled site assets.</li>
            <li>Static files are served from <span class="endpoint">/usr/share/nginx/html</span>.</li>
            <li>Validation: opening <span class="endpoint">http://EC2_IP:8080</span> should render the overview page.</li>
          </ul>
        </article>

        <!-- Flask API -->
        <article class="card">
          <div class="card-badge">Step 02 &mdash; Backend API</div>
          <h3 class="card-title">Flask Application</h3>
          <p class="card-text">
            A Flask-based REST API that exposes health, database test, and message endpoints. It is routed through Nginx
            under the <span class="endpoint">/api</span> prefix.
          </p>
          <ul class="card-list">
            <li><span class="endpoint">GET /api/health</span> &mdash; returns <span class="em">{ status: "ok", env: ... }</span>.</li>
            <li><span class="endpoint">GET /api/messages</span> &mdash; returns all stored messages.</li>
            <li><span class="endpoint">POST /api/messages</span> &mdash; accepts <span class="em">{ "content": "..." }</span> and persists it.</li>
          </ul>
        </article>

        <!-- Database -->
        <article class="card">
          <div class="card-badge">Step 03 &mdash; Database</div>
          <h3 class="card-title">PostgreSQL Messages Database</h3>
          <p class="card-text">
            A PostgreSQL 16 container provides persistent storage for messages. The API connects directly to this database.
          </p>
          <ul class="card-list">
            <li>Database credentials: <span class="em">nebulastack / nebula / secretpass</span>.</li>
            <li>Core table: <span class="endpoint">messages(id, content, created_at)</span>.</li>
            <li>Validation: <span class="endpoint">GET /api/db-test</span> executes a simple <span class="em">SELECT 1</span>.</li>
          </ul>
        </article>

        <!-- Docker & Compose -->
        <article class="card">
          <div class="card-badge">Step 04 &mdash; Orchestration</div>
          <h3 class="card-title">Docker and Docker Compose</h3>
          <p class="card-text">
            All containers are orchestrated via a single <span class="em">docker-compose.yml</span>, defining networking,
            ports, images, and restart behavior.
          </p>
          <ul class="card-list">
            <li>Services defined for <span class="em">web</span>, <span class="em">api</span>, and <span class="em">postgres</span>.</li>
            <li>Primary command: <span class="endpoint">docker compose up -d --build</span>.</li>
            <li>Internal DNS uses service names as hostnames inside the Docker network.</li>
          </ul>
        </article>

        <!-- Nginx Reverse Proxy & Security -->
        <article class="card">
          <div class="card-badge">Step 05 &mdash; Routing</div>
          <h3 class="card-title">Nginx Reverse Proxy Configuration</h3>
          <p class="card-text">
            Nginx handles both the static site and the API, acting as a reverse proxy and enabling room for basic security headers.
          </p>
          <ul class="card-list">
            <li><span class="endpoint">location /</span> &mdash; serves the static HTML response.</li>
            <li><span class="endpoint">location /api/</span> &mdash; proxies traffic to the <span class="em">api:5000</span> container.</li>
            <li>Configuration can include headers such as <span class="em">X-Frame-Options</span> and <span class="em">X-Content-Type-Options</span>.</li>
          </ul>
        </article>

        <!-- CI/CD -->
        <article class="card">
          <div class="card-badge">Step 06 &mdash; CI/CD</div>
          <h3 class="card-title">GitHub Actions Workflow</h3>
          <p class="card-text">
            A GitHub Actions workflow runs on every push to the repository, building and validating the stack before deploying it to EC2.
          </p>
          <ul class="card-list">
            <li>Job 1: run tests and build/push Docker images for the application.</li>
            <li>Job 2: executes after <span class="endpoint">needs: api-ci</span> and connects to EC2 over SSH.</li>
            <li>Deployment step runs <span class="endpoint">git pull</span> and <span class="endpoint">docker compose up -d --build</span> on the server.</li>
          </ul>
        </article>

        <!-- AWS EC2 & SSH -->
        <article class="card">
          <div class="card-badge">Step 07 &mdash; Cloud Hosting</div>
          <h3 class="card-title">AWS EC2 and SSH Secrets</h3>
          <p class="card-text">
            The live environment runs on an Ubuntu-based AWS EC2 instance, with Docker and Docker Compose installed and the repository cloned.
          </p>
          <ul class="card-list">
            <li>An Elastic IP keeps the public address stable for the deployment.</li>
            <li>GitHub secrets used by the pipeline:
              <span class="endpoint">EC2_SSH_KEY</span>,
              <span class="endpoint">EC2_HOST</span>,
              <span class="endpoint">EC2_USER</span>.
            </li>
            <li>Manual access uses <span class="endpoint">ssh ubuntu@EC2_HOST</span> with the same key.</li>
          </ul>
        </article>

        <!-- Health & Testing -->
        <article class="card">
          <div class="card-badge">Step 08 &mdash; Health and Testing</div>
          <h3 class="card-title">Runtime Checks and Quick Tests</h3>
          <p class="card-text">
            Simple curl commands are enough to verify that the stack is running correctly and that API routes and persistence are working.
          </p>
          <ul class="card-list">
            <li>API health: <span class="endpoint">curl http://localhost:8080/api/health</span>.</li>
            <li>List messages: <span class="endpoint">curl http://localhost:8080/api/messages</span>.</li>
            <li>Create a test message:
              <div class="pill-row">
                <span class="mini-pill">
                  curl -X POST /api/messages -d '{"content":"test"}'
                </span>
              </div>
            </li>
          </ul>
        </article>

      </div>
    </section>
  </div>
</body>
</html>
